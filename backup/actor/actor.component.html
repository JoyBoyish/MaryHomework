<div class="jumbotron text-center">
  <h1>Actors&Movies DB System</h1>
</div>

<!-- The navigation bar -->
<nav class="navbar navbar-expand-sm bg-light">
  <ul class="navbar-nav">
    <li class="nav-item" style="padding-left: 0.2in">
      <a class="btn btn-primary" (click)="changeSection(1)">Home</a>
    </li>
    <li class="nav-item" style="padding-left: 0.2in">
      <a class="btn btn-primary" (click)="changeSection(2)">Add Actor</a>
    </li>
    <li class="nav-item" style="padding-left: 0.2in">
      <a class="btn btn-primary" (click)="changeSection(3)">Update Actor</a>
    </li>
    <li class="nav-item" style="padding-left: 0.2in">
      <a class="btn btn-primary" (click)="changeSection(4)">Delete Actor</a>
    </li>

    <!--Newly added functions-->
    <li class="nav-item" style="padding-left: 0.2in">
      <a class="btn btn-primary" (click)="changeSection(5)">Add Movie</a>
    </li>
    <li class="nav-item" style="padding-left: 0.2in">
      <a class="btn btn-primary" (click)="changeSection(6)">Delete Movie</a>
    </li>
    <li class="nav-item" style="padding-left: 0.2in">
      <a class="btn btn-primary" (click)="changeSection(7)"
        >Delete All Movies before year</a
      >
    </li>
    <li class="nav-item" style="padding-left: 0.2in">
      <a class="btn btn-primary" (click)="changeSection(8)"
        >Add an actor to movie</a
      >
    </li>
    <li class="nav-item" style="padding-left: 0.2in">
      <a class="btn btn-primary" (click)="changeSection(9)"> List Movies</a>
    </li>
  </ul>
</nav>

<!-- First section: Display all in a tble -->
<div class="section" *ngIf="section == 1">
  <table class="table table-striped">
    <tr>
      <th>Name</th>
      <th>Birth Year</th>
    </tr>
    <tr *ngFor="let item of actorsDB">
      <td>{{ item.name }}</td>
      <td>{{ item.bYear }}</td>
    </tr>
  </table>
</div>

<!-- Second Section: Add new actor -->
<div class="section" *ngIf="section == 2">
  <div class="form-group">
    <label for="actorName">Full Name</label>
    <input
      type="text"
      class="form-control"
      id="actorName"
      [(ngModel)]="fullName"
    />
  </div>
  <div class="form-group">
    <label for="actorName">Birth Year</label>
    <input
      type="number"
      class="form-control"
      id="actorName"
      [(ngModel)]="bYear"
    />
  </div>
  <button type="submit" class="btn btn-primary" (click)="onSaveActor()">
    Save Actor
  </button>
</div>

<!-- Section 3: Update actor -->
<div class="section" *ngIf="section == 3">
  <table class="table table-striped">
    <tr>
      <th>Name</th>
      <th>Birth Year</th>
      <th>Select!</th>
    </tr>
    <tr *ngFor="let item of actorsDB">
      <td>{{ item.name }}</td>
      <td>{{ item.bYear }}</td>
      <td>
        <button
          type="submit"
          class="btn btn-primary"
          (click)="onSelectUpdate(item)"
        >
          Update
        </button>
      </td>
    </tr>
  </table>
  <hr />
  <div *ngIf="actorsDB.length > 0">
    <div class="form-group">
      <label for="actorName">Full Name</label>
      <input
        type="text"
        class="form-control"
        id="actorName"
        [(ngModel)]="fullName"
      />
    </div>
    <div class="form-group">
      <label for="actorName">Birth Year</label>
      <input
        type="number"
        class="form-control"
        id="actorName"
        [(ngModel)]="bYear"
      />
    </div>
    <button type="submit" class="btn btn-primary" (click)="onUpdateActor()">
      Update Actor
    </button>
  </div>
</div>
<!-- Section 4: Delete Actor -->
<div class="section" *ngIf="section == 4">
  <table class="table table-striped">
    <tr>
      <th>Name</th>
      <th>Birth Year</th>
      <th>Delete?</th>
    </tr>
    <tr *ngFor="let item of actorsDB">
      <td>{{ item.name }}</td>
      <td>{{ item.bYear }}</td>
      <td>
        <button
          type="submit"
          class="btn btn-primary"
          (click)="onDeleteActor(item)"
        >
          Delete
        </button>
      </td>
    </tr>
  </table>
</div>

<!-- 5th Section: Add new movie -->
<div class="section" *ngIf="section == 5">
  <div class="form-group">
    <label for="title">Movie</label>
    <input type="text" class="form-control" id="title" [(ngModel)]="title" />
  </div>
  <div class="form-group">
    <label for="year">Production Year</label>
    <input type="number" class="form-control" id="year" [(ngModel)]="year" />
  </div>
  <button type="submit" class="btn btn-primary" (click)="onSaveMovie()">
    Save Movie
  </button>
</div>

<!-- Section 6: Delete Movie -->
<div class="section" *ngIf="section == 6">
  <table class="table table-striped">
    <tr>
      <th>Title</th>
      <th>Production Year</th>
      <th>Delete?</th>
    </tr>
    <tr *ngFor="let item of moviesDB">
      <td>{{ item.title }}</td>
      <td>{{ item.year }}</td>
      <td>
        <button
          type="submit"
          class="btn btn-primary"
          (click)="onDeleteMovie(item)"
        >
          Delete
        </button>
      </td>
    </tr>
  </table>
</div>

<!-- 7th Section: Delete movies before year -->
<div class="section" *ngIf="section == 7">
  <div class="form-group">
    <label for="aYear">aYear</label>
    <input type="text" class="form-control" id="aYear" [(ngModel)]="year" />
  </div>
  <button
    type="submit"
    class="btn btn-primary"
    (click)="onDeleteMoviesBefore(year)"
  >
    Delete movies
  </button>
</div>

<!-- 8th Section: Add actor to movie -->
<div class="section" *ngIf="section == 8">
  <!--movie table-->
  <h3>Available Movies</h3>
  <table class="table table-striped">
    <tr>
      <th>Title</th>
      <th>Production Year</th>
      <th>Select!</th>
    </tr>
    <tr *ngFor="let item of moviesDB">
      <td>{{ item.title }}</td>
      <td>{{ item.year }}</td>
      <td>
        <button
          type="submit"
          class="btn btn-primary"
          (click)="onSelectMovie(item)"
        >
          To Movie
        </button>
      </td>
    </tr>
  </table>
  <hr />

  <hr />

  <!--actor table-->
  <h3>Available Actors</h3>
  <table class="table table-striped">
    <tr>
      <th>Full Name</th>
      <th>Birth Year</th>
      <th>Select!</th>
    </tr>
    <tr *ngFor="let item of actorsDB">
      <td>{{ item.name }}</td>
      <td>{{ item.bYear }}</td>
      <td>
        <button
          type="submit"
          class="btn btn-primary"
          (click)="onSelectActor(item)"
        >
          Add Actor
        </button>
      </td>
    </tr>
  </table>
  <!--confirm button-->
  <button type="submit" class="btn btn-primary" (click)="onAddActorToMovie()">
    Add Actor To Movie
  </button>
</div>

<!-- 9th Section: List all available movies -->
<div class="section" *ngIf="section == 9">
  <table class="table table-striped">
    <tr>
      <th>Title</th>
      <th>Production Year</th>
    </tr>
    <tr *ngFor="let item of moviesDB">
      <td>{{ item.title }}</td>
      <td>{{ item.year }}</td>
    </tr>
  </table>
</div>
